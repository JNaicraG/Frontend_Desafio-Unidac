{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/colaborador.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"ngx-toastr\";\nexport class EditarColaboradorComponent {\n  constructor(router, service, formBuilder, route, toast) {\n    this.router = router;\n    this.service = service;\n    this.formBuilder = formBuilder;\n    this.route = route;\n    this.toast = toast;\n    this.listaColaboradores = [];\n    this.colaborador = {\n      id: 0,\n      nome: \"\",\n      cpf: \"\"\n    };\n  }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    this.service.buscarID(parseInt(id)).subscribe(dados => this.colaborador = dados);\n    //this.colaborador.id=parseInt(id!);\n    this.service.listar().subscribe(listaColaboradores => {\n      this.listaColaboradores = listaColaboradores;\n    });\n    this.formGroup = this.formBuilder.group({\n      nome: [\"\", Validators.required],\n      cpf: [\"\", Validators.required]\n    });\n  }\n  confirmarDados() {\n    const arr = this.listaColaboradores.filter(dados => dados.cpf === this.formGroup.get('cpf')?.value);\n    if (arr.length >= 2) return 0;\n    return 1;\n  }\n  editar() {\n    if (this.formGroup.valid) {\n      if (this.confirmarDados()) {\n        this.colaborador.nome = this.formGroup.get('nome')?.value;\n        this.colaborador.cpf = this.formGroup.get('cpf')?.value;\n        this.service.editar(this.colaborador).subscribe(() => {\n          this.toast.info(\"Dados cadastrados com sucesso!\");\n        });\n      } else {\n        this.toast.error(\"Colaborador duplicado!\");\n      }\n    } else {\n      this.toast.error(\"Preencha os campos obrigatórios!\", \"Erro\");\n    }\n  }\n}\nEditarColaboradorComponent.ɵfac = function EditarColaboradorComponent_Factory(t) {\n  return new (t || EditarColaboradorComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ColaboradorService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i4.ToastrService));\n};\nEditarColaboradorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditarColaboradorComponent,\n  selectors: [[\"app-editar-colaborador\"]],\n  inputs: {\n    colaborador: \"colaborador\"\n  },\n  decls: 21,\n  vars: 3,\n  consts: [[3, \"formGroup\"], [1, \"mb-3\"], [\"for\", \"nome\", 1, \"form-label\"], [1, \"container_required\"], [\"type\", \"text\", \"id\", \"nome\", \"formControlName\", \"nome\", 1, \"form-control\"], [\"for\", \"cpf\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"cpf\", \"formControlName\", \"cpf\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"submit\", \"routerLink\", \"/listar-colaboradores\", 1, \"btn\", \"btn-primary\"]],\n  template: function EditarColaboradorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Alterar Colaborador\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0)(3, \"div\", 1)(4, \"label\", 2);\n      i0.ɵɵtext(5, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"span\", 3);\n      i0.ɵɵtext(7, \"(Campo Obrigat\\u00F3rio)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 4);\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 1)(11, \"label\", 5);\n      i0.ɵɵtext(12, \"CPF\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"span\", 3);\n      i0.ɵɵtext(14, \"(Campo Obrigat\\u00F3rio)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 6);\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function EditarColaboradorComponent_Template_button_click_17_listener() {\n        return ctx.editar();\n      });\n      i0.ɵɵtext(18, \"Editar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 8);\n      i0.ɵɵtext(20, \"Cancelar\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.formGroup);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"\", ctx.colaborador.nome, \" \");\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"\", ctx.colaborador.cpf, \" \");\n    }\n  },\n  dependencies: [i1.RouterLink, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Validators","EditarColaboradorComponent","constructor","router","service","formBuilder","route","toast","listaColaboradores","colaborador","id","nome","cpf","ngOnInit","snapshot","paramMap","get","buscarID","parseInt","subscribe","dados","listar","formGroup","group","required","confirmarDados","arr","filter","value","length","editar","valid","info","error","i0","ɵɵdirectiveInject","i1","Router","i2","ColaboradorService","i3","FormBuilder","ActivatedRoute","i4","ToastrService","selectors","inputs","decls","vars","consts","template","EditarColaboradorComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","EditarColaboradorComponent_Template_button_click_17_listener","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate1"],"sources":["D:\\Documentos 2\\Desafio_WL\\Desafio-Unidac-Grupo-WL\\Frontend\\desafio_unidac\\src\\app\\components\\colaboradores\\editar-colaborador\\editar-colaborador.component.ts","D:\\Documentos 2\\Desafio_WL\\Desafio-Unidac-Grupo-WL\\Frontend\\desafio_unidac\\src\\app\\components\\colaboradores\\editar-colaborador\\editar-colaborador.component.html"],"sourcesContent":["import { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { ColaboradorService } from 'src/app/services/colaborador.service';\nimport {Colaborador} from '../../../models/colaborador';\nimport { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-editar-colaborador',\n  templateUrl: './editar-colaborador.component.html',\n  styleUrls: ['./editar-colaborador.component.css']\n})\nexport class EditarColaboradorComponent implements OnInit{\n\n  formGroup!:FormGroup; \n  listaColaboradores:Colaborador[] = [];\n  @Input() colaborador:Colaborador={\n    id:0,\n    nome:\"\",\n    cpf:\"\"\n  }\n  constructor(private router: Router,\n    private service: ColaboradorService,\n    private formBuilder: FormBuilder,\n    private route: ActivatedRoute,\n    private toast: ToastrService){\n    }\n  ngOnInit(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    this.service.buscarID(parseInt(id!)).subscribe(dados => this.colaborador = dados);\n    //this.colaborador.id=parseInt(id!);\n    this.service.listar().subscribe((listaColaboradores) => {\n      this.listaColaboradores = listaColaboradores\n  })\n    this.formGroup = this.formBuilder.group({\n      nome:[\"\",Validators.required],\n      cpf:[\"\",Validators.required]\n    })\n  }\n\n  confirmarDados(){\n    const arr = this.listaColaboradores.filter(dados => dados.cpf === this.formGroup.get('cpf')?.value) ;\n    if(arr.length>=2)\n      return 0\n    return 1\n  }\n\n  editar(){\n    if(this.formGroup.valid){\n      if(this.confirmarDados()){\n        this.colaborador.nome = this.formGroup.get('nome')?.value;\n        this.colaborador.cpf = this.formGroup.get('cpf')?.value;\n\n        this.service.editar(this.colaborador).subscribe(() =>{\n          this.toast.info(\"Dados cadastrados com sucesso!\");\n        });\n      }else{\n        this.toast.error(\"Colaborador duplicado!\")\n      }\n    } else{\n      this.toast.error(\"Preencha os campos obrigatórios!\",\"Erro\");\n    }\n  }\n\n}\n","<h1>Alterar Colaborador</h1>\n<form [formGroup]=\"formGroup\">\n    <div class=\"mb-3\">\n      <label for=\"nome\" class=\"form-label\">Nome</label>\n      <span class=\"container_required\">(Campo Obrigatório)</span>\n      <input type=\"text\" class=\"form-control\" id=\"nome\" formControlName=\"nome\">{{colaborador.nome}}\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"cpf\" class=\"form-label\">CPF</label>\n      <span class=\"container_required\">(Campo Obrigatório)</span>\n      <input type=\"text\" class=\"form-control\" id=\"cpf\" formControlName=\"cpf\"/>{{colaborador.cpf}}\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"editar()\" >Editar</button>\n    <button type=\"submit\" class=\"btn btn-primary\" routerLink=\"/listar-colaboradores\">Cancelar</button>\n</form>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}